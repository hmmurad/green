<div class="row justify-content-center">
  <div class="col-md-8">
    <form #postForm="ngForm" (ngSubmit)="onCreatePost(postForm.value)">
      <div class="form-group">
        <label><strong>Title</strong></label>
        <input
          type="text"
          name="title"
          class="form-control"
          ngModel
          required>
      </div>
      <div class="form-group">
        <label><strong>Content</strong></label>
        <textarea
          name="content"
          class="form-control"
          cols="30"
          rows="3"
          ngModel
          required
          >
        </textarea>
      </div>
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="!postForm.valid">
        Create Post
      </button>
    </form>

    <hr>
  </div>
</div>

<div class="row justify-content-center">
  <div class="col-md-8">
    <button
      class="btn btn-warning"
      (click)="onFetchPosts()"
      >
      Fetch Post
    </button>
    |
    <button
      class="btn btn-danger"
      [disabled]="loadedPosts.length < 1"
      (click)="onClearPosts()"
      >
      Clear Post
    </button>

  </div>
</div>

<div class="row justify-content-center mt-3">
  <div class="col-md-8">
    <p *ngIf="loadedPosts.length < 1 && !isFetching">No posts available!</p>

    <ul class="list-group" *ngIf="loadedPosts.length >= 1 && !isFetching">
      <li class="list-group-item" *ngFor="let post of loadedPosts">
        <h4>{{ post.title | titlecase}}</h4>
        <p> {{ post.content }} </p>
      </li>
    </ul>

    <p *ngIf="isFetching && !error">Loading...</p>


    <div class="alert alert-danger" *ngIf="error">
      <h3>An error occurred!</h3>
      <p>{{ error }}</p>

      <button class="btn btn-danger" (click)="onclearErrors()">Okay</button>

    </div>

  </div>
</div>



